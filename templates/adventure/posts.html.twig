{% extends "default.html.twig" %}

{% block contents %}
<div class="box">
  <h1 class="title is-2">My posts</h1>

  <table class="table is-striped is-hoverable is-fullwidth">
    <thead>
      <tr>
        <th>Title</th>
        <th>Created</th>
        <th>Edited</th>
        <th>Tags</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
    {% if posts|length > 0 %}
    {% for post in posts %}
      <tr>
        <td>{{ post.title }}</td>
        <td>{{ post.created | date("Y-m-d") }}</td>
        {% set edited = post.edited ? post.edited | date("Y-m-d") : "--" %}
        <td>{{ edited }}</td>
        <td>
          {% if post.tags %}
          {% for tag in post.tags | split(",") %}
          <span class="tag is-link">{{ tag }}</span>
          {% endfor %}
          {% else %}
          --
          {% endif %}
        </td>
        <td>
          <div class="field has-addons">
            <div class="control">
              <button class="button is-small">
                <span class="icon">
                  <i class="mdi mdi-archive"></i>
                </span>
              </button>
            </div>
          </div>
        </td>
      </tr>
    {% endfor %}
    {% else %}
      <tr>
        <td class="has-text-centered" colspan="6">Nothing here ðŸ˜¢</td>
      </tr>
    {% endif %}
    </tbody>
  </table>
</div>
{% endblock %}
